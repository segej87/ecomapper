#   ggtitle(paste("Distribution of",species)) +
#   theme(plot.title=element_text(size=20, face="bold")) +
#   theme(axis.text.x=element_text(size=14)) +
#   ylab(paste("Values (",units,")",sep="")) +
#   theme(axis.title.y=element_text(size=20))
# last_plot() + coord_flip()
svg(filename='out.svg', bg='transparent')
boxplot(allVals, horizontal=T, frame=F, col='#b0e0e6', main=paste(species,' (',units,')',sep=""), pars=list(boxwex = 1, staplewex = 0.75, boxlwd = 2, staplelwd = 2, plot.frame=F, cex.axis=2, cex.main=3))
points(x=selVal, y=order(selVal),col=rgb(red=255,green=75,blue=100,alpha=0.9), pch=8, lwd=2, cex=3)
dev.off()
invisible();
}
plotbox(allVals,selVal,species,units)
75/255
100/255
plotbox <- function (allVals, selVal, species, units) {
# library(ggplot2)
#
par(bg='transparent')
#
# g <- ggplot(NULL, aes(1,allVals)) +
#   scale_x_discrete(NULL, NULL, NULL, c("0.8","1.2"))+
#   geom_boxplot() + geom_point(aes(x=1,y=selVal), color='blue', pch=8, cex=5, stroke=2) +
#   ggtitle(paste("Distribution of",species)) +
#   theme(plot.title=element_text(size=20, face="bold")) +
#   theme(axis.text.x=element_text(size=14)) +
#   ylab(paste("Values (",units,")",sep="")) +
#   theme(axis.title.y=element_text(size=20))
# last_plot() + coord_flip()
svg(filename='out.svg', bg='transparent')
boxplot(allVals, horizontal=T, frame=F, col='#b0e0e6', main=paste(species,' (',units,')',sep=""), pars=list(boxwex = 1, staplewex = 0.75, boxlwd = 2, staplelwd = 2, plot.frame=F, cex.axis=2, cex.main=3))
points(x=selVal, y=order(selVal),col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), pch=8, lwd=2, cex=3)
dev.off()
invisible();
}
100/255
plotbox(allVals,selVal,species,units)
?svg
plotbox <- function (allVals, selVal, species, units) {
# library(ggplot2)
#
par(bg='transparent')
#
# g <- ggplot(NULL, aes(1,allVals)) +
#   scale_x_discrete(NULL, NULL, NULL, c("0.8","1.2"))+
#   geom_boxplot() + geom_point(aes(x=1,y=selVal), color='blue', pch=8, cex=5, stroke=2) +
#   ggtitle(paste("Distribution of",species)) +
#   theme(plot.title=element_text(size=20, face="bold")) +
#   theme(axis.text.x=element_text(size=14)) +
#   ylab(paste("Values (",units,")",sep="")) +
#   theme(axis.title.y=element_text(size=20))
# last_plot() + coord_flip()
svg(filename='out.svg', bg='transparent',width=4,height=3)
boxplot(allVals, horizontal=T, frame=F, col='#b0e0e6', main=paste(species,' (',units,')',sep=""), pars=list(boxwex = 1, staplewex = 0.75, boxlwd = 2, staplelwd = 2, plot.frame=F, cex.axis=2, cex.main=3))
points(x=selVal, y=order(selVal),col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), pch=8, lwd=2, cex=3)
dev.off()
invisible();
}
plotbox(allVals,selVal,species,units)
plotbox <- function (allVals, selVal, species, units) {
# library(ggplot2)
#
par(bg='transparent')
#
# g <- ggplot(NULL, aes(1,allVals)) +
#   scale_x_discrete(NULL, NULL, NULL, c("0.8","1.2"))+
#   geom_boxplot() + geom_point(aes(x=1,y=selVal), color='blue', pch=8, cex=5, stroke=2) +
#   ggtitle(paste("Distribution of",species)) +
#   theme(plot.title=element_text(size=20, face="bold")) +
#   theme(axis.text.x=element_text(size=14)) +
#   ylab(paste("Values (",units,")",sep="")) +
#   theme(axis.title.y=element_text(size=20))
# last_plot() + coord_flip()
svg(filename='out.svg', bg='transparent',width=4,height=3)
boxplot(allVals, horizontal=T, frame=F, col='#b0e0e6', main=paste(species,' (',units,')',sep=""), pars=list(boxwex = 1, staplewex = 0.75, boxlwd = 2, staplelwd = 2, plot.frame=F, cex.axis=1, cex.main=1.5))
points(x=selVal, y=order(selVal),col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), pch=8, lwd=2, cex=3)
dev.off()
invisible();
}
plotbox(allVals,selVal,species,units)
plotbox <- function (allVals, selVal, species, units) {
# library(ggplot2)
#
par(bg='transparent')
#
# g <- ggplot(NULL, aes(1,allVals)) +
#   scale_x_discrete(NULL, NULL, NULL, c("0.8","1.2"))+
#   geom_boxplot() + geom_point(aes(x=1,y=selVal), color='blue', pch=8, cex=5, stroke=2) +
#   ggtitle(paste("Distribution of",species)) +
#   theme(plot.title=element_text(size=20, face="bold")) +
#   theme(axis.text.x=element_text(size=14)) +
#   ylab(paste("Values (",units,")",sep="")) +
#   theme(axis.title.y=element_text(size=20))
# last_plot() + coord_flip()
svg(filename='out.svg', bg='transparent',width=4,height=3)
boxplot(allVals, horizontal=T, frame=F, col='#b0e0e6', main=paste(species,' (',units,')',sep=""), pars=list(boxwex = 1, staplewex = 0.75, boxlwd = 2, staplelwd = 2, plot.frame=F, cex.axis=1, cex.main=1.5))
points(x=selVal, y=order(selVal),col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), pch=8, lwd=2, cex=2)
dev.off()
invisible();
}
allVals <- c(1,2,3,4,5,6)
selVal <- 3.21
species <- 'Wattage'
units <- 'watts'
plotbox(allVals,selVal,species,units)
plotbox <- function (allVals, selVal, species, units) {
# library(ggplot2)
#
par(bg='transparent', mar=c(5,2,4,2))
#
# g <- ggplot(NULL, aes(1,allVals)) +
#   scale_x_discrete(NULL, NULL, NULL, c("0.8","1.2"))+
#   geom_boxplot() + geom_point(aes(x=1,y=selVal), color='blue', pch=8, cex=5, stroke=2) +
#   ggtitle(paste("Distribution of",species)) +
#   theme(plot.title=element_text(size=20, face="bold")) +
#   theme(axis.text.x=element_text(size=14)) +
#   ylab(paste("Values (",units,")",sep="")) +
#   theme(axis.title.y=element_text(size=20))
# last_plot() + coord_flip()
svg(filename='out.svg', bg='transparent',width=4,height=3)
boxplot(allVals, horizontal=T, frame=F, col='#b0e0e6', main=paste(species,' (',units,')',sep=""), pars=list(boxwex = 1, staplewex = 0.75, boxlwd = 2, staplelwd = 2, plot.frame=F, cex.axis=1, cex.main=1.5))
points(x=selVal, y=order(selVal),col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), pch=8, lwd=2, cex=2)
dev.off()
invisible();
}
plotbox(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F, col='#b0e0e6', pars=list(boxwex = 1, staplewex = 0.75, boxlwd = 2, staplelwd = 2, plot.frame=F, cex.axis=1, cex.main=1.5))
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species))
abline(v=selVal, col='blue', lwd=2)
invisible()
}
plothist(allVals,selVal,species,units)
?hist
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F, col='#b0e0e6')
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species))
abline(v=selVal, col='blue', lwd=2)
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F, col='#b0e0e6')
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species))
abline(v=selVal, col='blue', lwd=2)
dev.out()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F, col='#b0e0e6')
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species))
abline(v=selVal, col='blue', lwd=2)
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6')
abline(v=selVal, col='blue', lwd=2)
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
pars=list(boxwex = 1, staplewex = 0.75, boxlwd = 2, staplelwd = 2, plot.frame=F, cex.axis=1, cex.main=1.5))
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
boxwex = 1, staplewex = 0.75, boxlwd = 2, staplelwd = 2, plot.frame=F, cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
warnings()
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
plot.frame=F, cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
dev.off()
invisible()
}
warnings()
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
?text
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x='topright',labels=paste('n =',length(allVals)))
dev.off()
invisible()
}
allVals <- c(1,2,3,4,5)
selVal <- 3.2
species <- 'wattage'
units <- 'watts'
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=c(4,4),labels=paste('n =',length(allVals)))
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=median(allVals),y=max(hist$frequencies),labels=paste('n =',length(allVals)))
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
hist
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
hist
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=median(allVals),y=max(hist$counts),labels=paste('n =',length(allVals)))
dev.off()
invisible()
}
hist
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=(median(allVals)+max(allVals))*3/4,y=max(hist$counts),labels=paste('n =',length(allVals)))
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=(max(allVals)-median(allVals))*3/4,y=max(hist$counts),labels=paste('n =',length(allVals)))
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=median(allVals)+(max(allVals)-median(allVals))*3/4,y=max(hist$counts),labels=paste('n =',length(allVals)))
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=median(allVals)+(max(allVals)-median(allVals))*3/4,y=0,labels=paste('n =',length(allVals)))
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=median(allVals)+(max(allVals)-median(allVals))*3/4,y=min(hist$counts) + (max(hist$counts)-min(hist$counts))*3/4,labels=paste('n =',length(allVals)))
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5)
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=median(allVals)+(max(allVals)-median(allVals))*3/4,
y=min(hist$counts) + (max(hist$counts)-min(hist$counts))*3/4,
labels=paste('n =',
length(allVals)))
dev.off()
# invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
hist <- hist(allVals, plot=F)
min <- min(allVals)
max <- max(allVals)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5, xlim=c(min,max))
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=median(allVals)+(max(allVals)-median(allVals))*3/4,
y=min(hist$counts) + (max(hist$counts)-min(hist$counts))*3/4,
labels=paste('n =',
length(allVals)))
dev.off()
invisible()
}
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
min <- min(allVals)
max <- max(allVals)
hist <- hist(allVals, plot=F, xlim=c(min,max))
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5, xlim=c(min,max))
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=median(allVals)+(max(allVals)-median(allVals))*3/4,
y=min(hist$counts) + (max(hist$counts)-min(hist$counts))*3/4,
labels=paste('n =',
length(allVals)))
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
plothist <- function (allVals, selVal, species, units) {
par(bg='transparent', mar=c(5,2,4,2))
svg(filename='out.svg', bg='transparent',width=4,height=3)
min <- min(allVals)
max <- max(allVals)
hist <- hist(allVals, plot=F)
plot(hist, xlab=paste('Values (',units,')',sep=""), main=paste('Histogram of',species), col='#b0e0e6',
cex.axis=1, cex.main=1.5, xlim=c(min,max))
abline(v=selVal, col=rgb(red=1,green=0.2941176,blue=0.3921569,alpha=0.9), lwd=2)
text(x=median(allVals)+(max(allVals)-median(allVals))*3/4,
y=min(hist$counts) + (max(hist$counts)-min(hist$counts))*3/4,
labels=paste('n =',
length(allVals)))
dev.off()
invisible()
}
plothist(allVals,selVal,species,units)
setwd('c:/users/jonse/dropbox/ywln - jon sege')
library(kora.scripts)
x <- c(-73.941410,-74.952605,-77.620694,-74.965896)
y <- c(40.706953,43.036472,42.653883,44.344027)
z <- c(1.34, 5.76, 2.11, 3.11)
shape_idw(shapeString,x,y,z)
packrat::snapshot(prompt = FALSE)
shape_idw(shapeString,x,y,z)
library(kora.scripts)
shape_idw(shapeString,x,y,z)
shape_idw(shapeString,x,y,z)
packrat::set_opts(local.repos = c("~/R/win-library/3.3", "C:/Program Files/R/R-3.3.1/library"))
packrat::set_opts(external.packages = c("ggplot2", "rgdal"))
library(kora.scripts)
fileName <- 'countries.geo.json'
shapeString <- readChar(fileName, file.info(fileName)$size)
x <- c(-73.941410,-74.952605,-77.620694,-74.965896)
y <- c(40.706953,43.036472,42.653883,44.344027)
z <- c(1.34, 5.76, 2.11, 3.11)
r.m <- shape_idw(shapeString, x, y, z)
packrat::set_opts(external.packages = c("ggplot2", "rgdal", "geojsonio", "gstat", "sp", "raster", "tmap", "jsonlite"))
library(kora.scripts)
fileName <- 'countries.geo.json'
shapeString <- readChar(fileName, file.info(fileName)$size)
x <- c(-73.941410,-74.952605,-77.620694,-74.965896)
y <- c(40.706953,43.036472,42.653883,44.344027)
z <- c(1.34, 5.76, 2.11, 3.11)
r.m <- shape_idw(shapeString, x, y, z)
getwd()
setwd('c:\\users\\jonse\\desktop')
fileName <- 'countries.geo.json'
shapeString <- readChar(fileName, file.info(fileName)$size)
x <- c(-73.941410,-74.952605,-77.620694,-74.965896)
y <- c(40.706953,43.036472,42.653883,44.344027)
z <- c(1.34, 5.76, 2.11, 3.11)
r.m <- shape_idw(shapeString, x, y, z)
library(kora.scripts)
fileName <- 'countries.geo.json'
shapeString <- readChar(fileName, file.info(fileName)$size)
x <- c(-73.941410,-74.952605,-77.620694,-74.965896)
y <- c(40.706953,43.036472,42.653883,44.344027)
z <- c(1.34, 5.76, 2.11, 3.11)
r.m <- shape_idw(shapeString, x, y, z)
fileName <- 'newyork.geo.json'
shapeString <- readChar(fileName, file.info(fileName)$size)
x <- c(-73.941410,-74.952605,-77.620694,-74.965896)
y <- c(40.706953,43.036472,42.653883,44.344027)
z <- c(1.34, 5.76, 2.11, 3.11)
r.m <- shape_idw(shapeString, x, y, z)
shapejson <- fromJSON(shapeString)
shapecoords <- shapejson$features$geometry$coordinates
polys <- list()
id <- 1
for (i in 1:length(shapecoords)) {
innerpolys <- list()
for (j in 1:length(shapecoords[[i]])) {
innerpolys <- append(innerpolys,Polygon(matrix(shapecoords[[i]][[j]],ncol = 2)))
}
polys <- append(polys,Polygons(innerpolys,id))
id <- id + 1
}
shape <- SpatialPolygons(Srl=polys, proj4string=CRS("+proj=longlat +datum=WGS84 +no_defs +ellps=WGS84 +towgs84=0,0,0"))
remVect <- which(is.na(z))
if (length(remVect) > 0) {
x <- x[-remVect]
y <- y[-remVect]
z <- z[-remVect]
}
point_data <- data.frame(x=x,y=y)
point_data_sp <- SpatialPoints(point_data,proj4string = CRS(proj4string(shape)))
grd              <- as.data.frame(spsample(shape, "regular", n=50000))
names(grd)       <- c("X", "Y")
coordinates(grd) <- c("X", "Y")
gridded(grd)     <- TRUE  # Create SpatialPixel object
fullgrid(grd)    <- TRUE  # Create SpatialGrid object
proj4string(grd) <- proj4string(shape)
shape.idw <- idw(z ~ 1, point_data_sp, newdata=grd, idp=2.0, na.action=na.pass)
r       <- raster(shape.idw)
r.m     <- mask(r, shape)
hist <- hist(r.m,plot=F)
class(r.m)
hist <- raster::hist(r.m,plot=F)
library(kora.scripts)
fileName <- 'newyork.geo.json'
shapeString <- readChar(fileName, file.info(fileName)$size)
x <- c(-73.941410,-74.952605,-77.620694,-74.965896)
y <- c(40.706953,43.036472,42.653883,44.344027)
z <- c(1.34, 5.76, 2.11, 3.11)
r.m <- shape_idw(shapeString, x, y, z)
library(kora.scripts)
library(kora.scripts)
packrat::set_opts(external.packages = "")
library(kora.scripts)
packrat::set_opts(local.repos = "")
library(kora.scripts)
library(kora.scripts)
