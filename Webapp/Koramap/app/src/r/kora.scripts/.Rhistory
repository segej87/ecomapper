packrat::init(options = list(external.packages = c("parallel")))
library(kora.scripts)
vals <- c(1,2,3)
units <- c('ppm','ppb','mg/l')
conversions <- list('ppb'='x/1000','mg/l'='x')
target <- 'ppm'
unit_conv(vals,units,conversions,target)
vals <- rep(2,length.out=10000)
units <- c('ppb',length.out=10000)
res <- unit_conv(vals,units,conversions,target)
library(kora.scripts)
res <- unit_conv(vals,units,conversions,target)
length(vals)
length(units)
units <- rep('ppb',length.out=10000)
res <- unit_conv(vals,units,conversions,target)
system.time(unit_conv(vals,units,conversions,target))
vals <- rep(2,length.out=1000000)
units <- rep('ppb',length.out=1000000)
system.time(unit_conv(vals,units,conversions,target))
install.packages("opencpu")
vals <- runif(50,20,50)
vals <- runif(50,0,50)
vals <- runif(500000,0,50)
m <- 1
while (m < 500000) {
units <- c()
unitOps <- c('ppm','ppb','ppt','mg/l','g/l')
conversions <- list('ppb'='x/1000',
'ppt'='x/1000000',
'mg/l'='x',
'g/l'='x/1000')
while (m < 500000) {
units[m] <- unitOps[floor(runif(1,1,6))]
m <- m + 1
}
units[1:100]
m <- 1
while (m < 500000) {
units[m] <- unitOps[floor(runif(1,1,6))]
m <- m + 1
}
library(kora.scripts)
?sapply
